<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaji Life | 療癒系日常</title>
    <style>
        /* --- 1. 核心變數設定 --- */
        :root {
            --bg-color: #FFFFFF;           
            --text-main: #333333;          
            --text-light: #666666;         
            --accent-sage: #8F9779;        
            --accent-peach: #FFDAB9;       
            --accent-peach-text: #F4A460;  /* 深柔和桃色 (文字用) */
            --line-gray-blue: #E3E6E8;     
            --radius-soft: 12px;
            --spacing-loose: 40px;
        }

        /* --- 2. 全局重置 --- */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, "PingFang TC", "Microsoft JhengHei", sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            font-size: 18px; /* 維持大字體 */
            line-height: 1.6; /* 行距稍微收緊一點點，讓內容更集中 */
            letter-spacing: 0.05em;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 10px 20px 40px 20px;
            display: grid;
            grid-template-columns: 2.5fr 1fr;
            gap: 40px; /* 稍微縮小左右欄間距 */
        }

        /* --- 手機版特別優化 --- */
        @media (max-width: 768px) {
            .container { 
                grid-template-columns: 1fr; 
                gap: 20px; 
                padding-top: 0; 
            }
            
            header {
                padding: 20px 0 10px 0 !important;
                margin-bottom: 10px !important;
                border-bottom: 1px dashed var(--line-gray-blue);
            }

            h1 {
                font-size: 2.2rem !important; 
            }
            
            header::before { display: none; } 
        }

        /* --- 3. 表頭設計 --- */
        header {
            text-align: center;
            padding: 20px 0 10px 0; 
            margin-bottom: 20px; 
            position: relative;
        }

        h1 {
            color: var(--text-main);
            font-weight: 600;
            font-size: 2.8rem; 
            margin-bottom: 0; 
            display: inline-block; 
            position: relative;    
            z-index: 1;
            line-height: 1.2;
        }

        /* 粉紅色螢光筆效果 */
        h1::after {
            content: '';
            position: absolute;
            bottom: 5px;       
            left: -5px;       
            right: -5px;
            height: 15px;      
            background-color: var(--accent-peach);
            opacity: 0.6;      
            border-radius: 10px; 
            z-index: -1;       
            transform: rotate(-1deg); 
        }

        /* 頂部裝飾小圓點 */
        header::before {
            content: '';
            position: absolute;
            top: -5px; 
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background-color: var(--accent-peach);
            border-radius: 50%;
            opacity: 0.8;
        }

        .subtitle {
            color: var(--accent-peach-text); 
            font-size: 1.1rem; 
            margin-top: 5px; 
            font-weight: 500;
            letter-spacing: 0.05em;
        }

        /* --- 4. 內容區 --- */
        
        .article {
            margin-bottom: 50px; 
            padding-bottom: 30px;
            border-bottom: 1px solid var(--line-gray-blue);
        }
        
        .article:last-of-type { border-bottom: none; }

        .article-img {
            width: 100%;
            height: auto;
            border-radius: var(--radius-soft);
            margin-top: 20px;
            background-color: var(--line-gray-blue);
        }

        .article h2 {
            font-size: 1.8rem;
            margin-bottom: 10px; 
            color: var(--text-main);
            font-weight: 600;
            margin-top: 0; 
        }
        
        .article p {
            margin-bottom: 0;
            font-size: 1.15rem; 
            text-align: justify; 
        }

        .article-meta {
            color: var(--text-light);
            font-size: 1rem; 
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background-color: var(--accent-peach);
            border-radius: 50%;
            display: inline-block;
        }

        /* 發文區塊 */
        .post-editor {
            background: #FAFAFA;
            padding: 25px;
            border-radius: var(--radius-soft);
            margin-top: 30px; 
            margin-bottom: 50px;
            border: 1px dashed var(--line-gray-blue);
        }

        .post-editor h3 {
            color: var(--accent-sage);
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        input, textarea {
            width: 100%;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid var(--line-gray-blue);
            border-radius: 8px;
            background: #fff;
            color: var(--text-main);
            font-size: 1rem;
            outline: none;
            transition: border 0.3s;
        }

        input:focus, textarea:focus {
            border-color: var(--accent-sage);
        }

        .btn-main {
            background-color: var(--accent-sage);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            transition: opacity 0.3s;
        }

        .btn-main:hover { opacity: 0.9; }

        /* --- 5. 側邊欄 --- */
        .sidebar-widget {
            margin-bottom: 40px;
        }

        .widget-title {
            color: var(--accent-sage);
            border-bottom: 2px dashed var(--accent-peach); 
            padding-bottom: 5px;
            margin-bottom: 15px;
            display: inline-block;
            font-size: 1.2rem;
            font-weight: 600;
        }

        .ad-card {
            display: block;
            margin-bottom: 30px;
            text-align: center;
            transition: transform 0.2s;
        }

        .editable-ad { cursor: pointer; }
        .editable-ad:hover .ad-img { opacity: 0.8; }

        [contenteditable="true"] { outline: none; padding: 2px; border-radius: 4px; }
        [contenteditable="true"]:hover { background-color: #f0f0f0; }
        [contenteditable="true"]:focus { background-color: #fff; box-shadow: 0 0 0 2px var(--accent-peach); }

        .ad-img {
            width: 100%;
            aspect-ratio: 1/1;
            object-fit: cover;
            border-radius: var(--radius-soft);
            background-color: var(--line-gray-blue);
            margin-bottom: 10px;
        }

        .ad-text { color: var(--text-main); font-size: 1rem; font-weight: bold; }
        .ad-sub { color: var(--text-light); font-size: 0.9rem; }

        footer {
            text-align: center;
            padding: 30px 0;
            color: var(--text-light);
            font-size: 0.9rem;
            border-top: 1px dashed var(--line-gray-blue);
        }
    </style>
</head>
<body>

    <header>
        <h1>Gaji Life</h1>
        <div class="subtitle">Stay Relaxed, Stay Creative.</div>
    </header>

    <div class="container">
        
        <main>
            <div id="feed">
                </div>

            <section class="post-editor" id="adminPanel">
                <h3>✎ 撰寫新日常</h3>
                <input type="text" id="postTitle" placeholder="今天的標題...">
                <textarea id="postContent" rows="4" placeholder="寫下一些療癒的想法..."></textarea>
                <input type="file" id="postImage" accept="image/*">
                <button class="btn-main" onclick="addPost()">發布文章</button>
            </section>
        </main>

        <aside>
            <div class="sidebar-widget">
                <div class="widget-title">About Me</div>
                <p style="font-size:1rem; color:var(--text-light);">
                    喜愛日系極簡與貓咪。這裡記錄我的生活、創作與那些微小的幸福瞬間。
                </p>
            </div>

            <div class="sidebar-widget">
                <div class="widget-title">好物推薦</div>
                
                <input type="file" id="ad-input-1" accept="image/*" style="display: none;" onchange="updateAdImage(this, 'ad-img-1')">
                <div class="ad-card editable-ad">
                    <img src="https://placehold.co/300x300/E3E6E8/888?text=Slot+1" class="ad-img" id="ad-img-1" onclick="triggerAdUpload('ad-input-1')" title="點擊更換圖片">
                    <div class="ad-text" contenteditable="true">點此修改標題 1</div>
                    <div class="ad-sub" contenteditable="true">例如：嘎機貓帆布袋</div>
                </div>

                <input type="file" id="ad-input-2" accept="image/*" style="display: none;" onchange="updateAdImage(this, 'ad-img-2')">
                <div class="ad-card editable-ad">
                    <img src="https://placehold.co/300x300/E3E6E8/888?text=Slot+2" class="ad-img" id="ad-img-2" onclick="triggerAdUpload('ad-input-2')" title="點擊更換圖片">
                    <div class="ad-text" contenteditable="true">點此修改標題 2</div>
                    <div class="ad-sub" contenteditable="true">這裡可以放任何想推薦的東西</div>
                </div>
            </div>
        </aside>

    </div>

    <footer>
        &copy; 2025 Gaji Life. All Rights Reserved.
    </footer>

    <script>
        // --- 1. 文章發布功能 ---
        function addPost() {
            const title = document.getElementById('postTitle').value;
            const content = document.getElementById('postContent').value;
            const fileInput = document.getElementById('postImage');
            
            if(title === "" || content === "") {
                alert("標題和內容不能留空喔～");
                return;
            }

            let imgHtml = '';
            if (fileInput.files && fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    createPostHtml(title, content, e.target.result);
                }
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                createPostHtml(title, content, "https://placehold.co/800x400/E3E6E8/999?text=No+Image");
            }
        }

        function createPostHtml(title, content, imgSrc) {
            const feed = document.getElementById('feed');
            
            const article = document.createElement('article');
            article.className = 'article';
            
            const date = new Date();
            const dateStr = `${date.getFullYear()}.${date.getMonth()+1}.${date.getDate()}`;

            article.style.animation = "fadeIn 1s";
            article.innerHTML = `
                <style>@keyframes fadeIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }</style>
                <h2>${title}</h2>
                <div class="article-meta"><span class="dot"></span> ${dateStr}</div>
                <p>${content}</p>
                <img src="${imgSrc}" class="article-img">
            `;
            
            feed.insertBefore(article, feed.firstChild);
            
            document.getElementById('postTitle').value = '';
            document.getElementById('postContent').value = '';
            document.getElementById('postImage').value = '';

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // --- 2. 廣告功能 ---
        function triggerAdUpload(inputId) {
            document.getElementById(inputId).click();
        }

        function updateAdImage(input, imgId) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById(imgId).src = e.target.result;
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
</body>
</html>
